(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e9365"],{"8d25":function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{attrs:{"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[r("el-form-item",{attrs:{label:"所属分类",size:"normal"}},[r("el-select",{attrs:{multiple:""},model:{value:e.article.categories,callback:function(t){e.$set(e.article,"categories",t)},expression:"article.categories"}},e._l(e.categories,(function(e){return r("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1),r("el-form-item",{attrs:{label:"文章标题"}},[r("el-input",{model:{value:e.article.title,callback:function(t){e.$set(e.article,"title",t)},expression:"article.title"}})],1),r("el-row",[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"文章内容"}},[r("vue-editor",{attrs:{useCustomImageHandler:""},on:{"image-added":e.handleImageAdded},model:{value:e.article.detail,callback:function(t){e.$set(e.article,"detail",t)},expression:"article.detail"}})],1)],1)],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",size:"default","native-type":"submit"},on:{click:e.edit}},[e._v("确认修改")]),r("el-button",{attrs:{type:"info",size:"default"},on:{click:e.cancel}},[e._v("取消")])],1)],1)},n=[],i=(r("96cf"),r("1da1")),c=r("5873"),s={components:{VueEditor:c["a"]},data:function(){return{article:{},categories:[]}},methods:{handleImageAdded:function(e,t,r,a){var n=this;return Object(i["a"])(regeneratorRuntime.mark((function i(){var c,s,l;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return c=new FormData,c.append("file",e),i.next=4,n.$http.post("upload",c);case 4:s=i.sent,l=s.data,console.log(l),t.insertEmbed(r,"image",l),a();case 9:case"end":return i.stop()}}),i)})))()},getarticle:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.$route.params.id,t.next=3,e.$http.get("/rest/articles/edit/".concat(r));case 3:a=t.sent,console.log(a),e.article=a.data;case 6:case"end":return t.stop()}}),t)})))()},edit:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.put("/rest/articles/edit/".concat(e.article._id),e.article);case 2:e.$router.push("/articles/list"),e.$message({type:"success",message:"修改成功~",duration:600});case 4:case"end":return t.stop()}}),t)})))()},getcategories:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/rest/categories/list");case 2:r=t.sent,e.categories=r.data;case 4:case"end":return t.stop()}}),t)})))()},cancel:function(){this.$router.push("/articles/list")}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getarticle();case 2:return t.next=4,e.getcategories();case 4:case"end":return t.stop()}}),t)})))()}},l=s,o=r("2877"),u=Object(o["a"])(l,a,n,!1,null,null,null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-2d0e9365.bbae47b1.js.map