(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d216276"],{c0f9:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{attrs:{"label-width":"auto"},nativeOn:{submit:function(e){e.preventDefault()}}},[s("el-tabs",{attrs:{type:"border-card"}},[s("el-tab-pane",{attrs:{label:"基础信息"}},[s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"英雄名称"}},[s("el-input",{model:{value:e.heros.name,callback:function(t){e.$set(e.heros,"name",t)},expression:"heros.name"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"英雄称号"}},[s("el-input",{model:{value:e.heros.title,callback:function(t){e.$set(e.heros,"title",t)},expression:"heros.title"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"英雄类型"}},[s("el-select",{attrs:{multiple:""},model:{value:e.heros.categories,callback:function(t){e.$set(e.heros,"categories",t)},expression:"heros.categories"}},e._l(e.categories,(function(e){return s("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"顺风出装"}},[s("el-select",{attrs:{multiple:""},model:{value:e.heros.items1,callback:function(t){e.$set(e.heros,"items1",t)},expression:"heros.items1"}},e._l(e.items,(function(e){return s("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:6}},[s("el-form-item",{attrs:{label:"逆风出装"}},[s("el-select",{attrs:{multiple:""},model:{value:e.heros.items2,callback:function(t){e.$set(e.heros,"items2",t)},expression:"heros.items2"}},e._l(e.items,(function(e){return s("el-option",{key:e._id,attrs:{label:e.name,value:e._id}})})),1)],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:10}},[s("el-form-item",{attrs:{label:"使用技巧"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.heros.usagetips,callback:function(t){e.$set(e.heros,"usagetips",t)},expression:"heros.usagetips"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:10}},[s("el-form-item",{attrs:{label:"对抗技巧"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.heros.battletips,callback:function(t){e.$set(e.heros,"battletips",t)},expression:"heros.battletips"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:10}},[s("el-form-item",{attrs:{label:"团战思路"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.heros.teamtips,callback:function(t){e.$set(e.heros,"teamtips",t)},expression:"heros.teamtips"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"difficult",attrs:{label:"难度"}},[s("el-rate",{staticClass:"rate1",attrs:{colors:e.colors,max:10,"show-score":""},model:{value:e.heros.scores.difficult,callback:function(t){e.$set(e.heros.scores,"difficult",t)},expression:"heros.scores.difficult"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"difficult",attrs:{label:"技能"}},[s("el-rate",{staticClass:"rate1",attrs:{colors:e.colors,max:10,"show-score":""},model:{value:e.heros.scores.skills,callback:function(t){e.$set(e.heros.scores,"skills",t)},expression:"heros.scores.skills"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"difficult",attrs:{label:"攻击"}},[s("el-rate",{staticClass:"rate1",attrs:{colors:e.colors,max:10,"show-score":""},model:{value:e.heros.scores.attack,callback:function(t){e.$set(e.heros.scores,"attack",t)},expression:"heros.scores.attack"}})],1)],1)],1),s("el-row",[s("el-col",{attrs:{span:8}},[s("el-form-item",{staticClass:"difficult",attrs:{label:"生存"}},[s("el-rate",{staticClass:"rate1",attrs:{colors:e.colors,max:10,"show-score":""},model:{value:e.heros.scores.survive,callback:function(t){e.$set(e.heros.scores,"survive",t)},expression:"heros.scores.survive"}})],1)],1)],1),s("el-form-item",{attrs:{label:"英雄头像"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":e.afterupload}},[e.heros.avatar?s("img",{staticClass:"avatar",attrs:{src:e.heros.avatar}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)],1),s("el-tab-pane",{attrs:{label:"技能"}},[s("el-row",{staticStyle:{"margin-bottom":"10px"}},[s("el-col",{attrs:{offset:0}},[s("el-button",{attrs:{type:"primary",size:"default"},on:{click:function(t){return e.heros.skills.push({})}}},[s("i",{staticClass:"el-icon-plus"}),e._v("添加技能")])],1)],1),s("el-row",{staticClass:"rowtest",attrs:{type:"flex",justify:"space-around"}},e._l(e.heros.skills,(function(t,r){return s("el-col",{key:r,attrs:{span:10}},[s("el-col",{attrs:{offset:0}},[s("el-form-item",{attrs:{label:"技能名称",size:"normal"}},[s("el-input",{model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"item.name"}})],1),s("el-form-item",{attrs:{label:"技能图标"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{headers:e.uploadheader(),action:e.$http.defaults.baseURL+"/upload","show-file-list":!1,"on-success":function(s){return e.$set(t,"icon",s)}}},[t.icon?s("img",{staticClass:"avatar",attrs:{src:t.icon}}):s("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),s("el-form-item",{attrs:{label:"技能描述",size:"normal"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.description,callback:function(s){e.$set(t,"description",s)},expression:"item.description"}})],1),s("el-form-item",{attrs:{label:"小贴士",size:"normal"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.tips,callback:function(s){e.$set(t,"tips",s)},expression:"item.tips"}})],1),s("el-form-item",{attrs:{size:"normal"}},[s("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.isdelete(r)}}},[e._v("删除技能")])],1)],1)],1)})),1)],1)],1),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{attrs:{span:8}},[s("el-button",{attrs:{type:"primary",size:"default","native-type":"submit"},on:{click:e.edit}},[e._v("确认修改")]),s("el-button",{attrs:{type:"info",size:"default"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},a=[],l=(s("a434"),s("96cf"),s("1da1")),o={data:function(){return{value2:null,colors:{2:" #99A9BF",4:" #75C319",6:"#ECB10C",8:"#FF5C7C",10:"#992532"},heros:{scores:{difficult:0,skills:0,attack:0,survive:0},skills:[]},categories:[],items:[],index:0}},methods:{getheros:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var s,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.$route.params.id,t.next=3,e.$http.get("/rest/heros/edit/".concat(s));case 3:r=t.sent,e.heros=Object.assign({},e.heros,r.data),console.log(e.heros);case 6:case"end":return t.stop()}}),t)})))()},getcategories:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("rest/categories/list");case 2:s=t.sent,e.categories=s.data,console.log("categories:"),console.log(e.categories);case 6:case"end":return t.stop()}}),t)})))()},edit:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.put("/rest/heros/edit/".concat(e.heros._id),e.heros);case 2:e.$router.push("/heros/list"),e.$message({type:"success",message:"修改成功~",duration:600});case 4:case"end":return t.stop()}}),t)})))()},getitems:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$http.get("/rest/items/list");case 2:s=t.sent,e.items=s.data;case 4:case"end":return t.stop()}}),t)})))()},afterupload:function(e){this.$set(this.heros,"avatar",e)},afterskilliconupload:function(e){this.$set(item,"icon",e)},cancel:function(){this.$router.push("/heros/list")},isdelete:function(e){var t=this;return Object(l["a"])(regeneratorRuntime.mark((function s(){return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return s.prev=0,t.index=e,s.next=4,t.$confirm("此操作将永久删除该技能, 是否继续?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"});case 4:t.heros.skills.splice(e,1),t.$message({type:"success",message:"删除成功!",duration:600}),s.next=10;break;case 8:s.prev=8,s.t0=s["catch"](0);case 10:case"end":return s.stop()}}),s,null,[[0,8]])})))()}},created:function(){var e=this;return Object(l["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getheros();case 2:return t.next=4,e.getcategories();case 4:return t.next=6,e.getitems();case 6:case"end":return t.stop()}}),t)})))()}},i=o,n=s("2877"),c=Object(n["a"])(i,r,a,!1,null,null,null);t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d216276.e256a0d9.js.map