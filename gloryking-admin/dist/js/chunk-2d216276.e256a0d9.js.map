{"version":3,"sources":["webpack:///./src/views/editheros.vue?362c","webpack:///src/views/editheros.vue","webpack:///./src/views/editheros.vue?f411","webpack:///./src/views/editheros.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","nativeOn","$event","preventDefault","model","value","heros","callback","$$v","$set","expression","_l","item","key","_id","name","staticClass","colors","scores","$http","defaults","baseURL","afterupload","avatar","staticStyle","on","skills","push","_v","index","uploadheader","res","icon","isdelete","edit","cancel","staticRenderFns","data","methods","$router","component"],"mappings":"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","file":"js/chunk-2d216276.e256a0d9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-form',{attrs:{\"label-width\":\"auto\"},nativeOn:{\"submit\":function($event){$event.preventDefault();}}},[_c('el-tabs',{attrs:{\"type\":\"border-card\"}},[_c('el-tab-pane',{attrs:{\"label\":\"基础信息\"}},[_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"英雄名称\"}},[_c('el-input',{model:{value:(_vm.heros.name),callback:function ($$v) {_vm.$set(_vm.heros, \"name\", $$v)},expression:\"heros.name\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"英雄称号\"}},[_c('el-input',{model:{value:(_vm.heros.title),callback:function ($$v) {_vm.$set(_vm.heros, \"title\", $$v)},expression:\"heros.title\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"英雄类型\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.heros.categories),callback:function ($$v) {_vm.$set(_vm.heros, \"categories\", $$v)},expression:\"heros.categories\"}},_vm._l((_vm.categories),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"顺风出装\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.heros.items1),callback:function ($$v) {_vm.$set(_vm.heros, \"items1\", $$v)},expression:\"heros.items1\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":6}},[_c('el-form-item',{attrs:{\"label\":\"逆风出装\"}},[_c('el-select',{attrs:{\"multiple\":\"\"},model:{value:(_vm.heros.items2),callback:function ($$v) {_vm.$set(_vm.heros, \"items2\", $$v)},expression:\"heros.items2\"}},_vm._l((_vm.items),function(item){return _c('el-option',{key:item._id,attrs:{\"label\":item.name,\"value\":item._id}})}),1)],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"使用技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.heros.usagetips),callback:function ($$v) {_vm.$set(_vm.heros, \"usagetips\", $$v)},expression:\"heros.usagetips\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"对抗技巧\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.heros.battletips),callback:function ($$v) {_vm.$set(_vm.heros, \"battletips\", $$v)},expression:\"heros.battletips\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":10}},[_c('el-form-item',{attrs:{\"label\":\"团战思路\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.heros.teamtips),callback:function ($$v) {_vm.$set(_vm.heros, \"teamtips\", $$v)},expression:\"heros.teamtips\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{staticClass:\"difficult\",attrs:{\"label\":\"难度\"}},[_c('el-rate',{staticClass:\"rate1\",attrs:{\"colors\":_vm.colors,\"max\":10,\"show-score\":\"\"},model:{value:(_vm.heros.scores.difficult),callback:function ($$v) {_vm.$set(_vm.heros.scores, \"difficult\", $$v)},expression:\"heros.scores.difficult\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{staticClass:\"difficult\",attrs:{\"label\":\"技能\"}},[_c('el-rate',{staticClass:\"rate1\",attrs:{\"colors\":_vm.colors,\"max\":10,\"show-score\":\"\"},model:{value:(_vm.heros.scores.skills),callback:function ($$v) {_vm.$set(_vm.heros.scores, \"skills\", $$v)},expression:\"heros.scores.skills\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{staticClass:\"difficult\",attrs:{\"label\":\"攻击\"}},[_c('el-rate',{staticClass:\"rate1\",attrs:{\"colors\":_vm.colors,\"max\":10,\"show-score\":\"\"},model:{value:(_vm.heros.scores.attack),callback:function ($$v) {_vm.$set(_vm.heros.scores, \"attack\", $$v)},expression:\"heros.scores.attack\"}})],1)],1)],1),_c('el-row',[_c('el-col',{attrs:{\"span\":8}},[_c('el-form-item',{staticClass:\"difficult\",attrs:{\"label\":\"生存\"}},[_c('el-rate',{staticClass:\"rate1\",attrs:{\"colors\":_vm.colors,\"max\":10,\"show-score\":\"\"},model:{value:(_vm.heros.scores.survive),callback:function ($$v) {_vm.$set(_vm.heros.scores, \"survive\", $$v)},expression:\"heros.scores.survive\"}})],1)],1)],1),_c('el-form-item',{attrs:{\"label\":\"英雄头像\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.$http.defaults.baseURL + '/upload',\"show-file-list\":false,\"on-success\":_vm.afterupload}},[(_vm.heros.avatar)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.heros.avatar}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1)],1),_c('el-tab-pane',{attrs:{\"label\":\"技能\"}},[_c('el-row',{staticStyle:{\"margin-bottom\":\"10px\"}},[_c('el-col',{attrs:{\"offset\":0}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"default\"},on:{\"click\":function($event){return _vm.heros.skills.push({})}}},[_c('i',{staticClass:\"el-icon-plus\"}),_vm._v(\"添加技能\")])],1)],1),_c('el-row',{staticClass:\"rowtest\",attrs:{\"type\":\"flex\",\"justify\":\"space-around\"}},_vm._l((_vm.heros.skills),function(item,index){return _c('el-col',{key:index,attrs:{\"span\":10}},[_c('el-col',{attrs:{\"offset\":0}},[_c('el-form-item',{attrs:{\"label\":\"技能名称\",\"size\":\"normal\"}},[_c('el-input',{model:{value:(item.name),callback:function ($$v) {_vm.$set(item, \"name\", $$v)},expression:\"item.name\"}})],1),_c('el-form-item',{attrs:{\"label\":\"技能图标\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"headers\":_vm.uploadheader(),\"action\":_vm.$http.defaults.baseURL + '/upload',\"show-file-list\":false,\"on-success\":function (res){ return _vm.$set(item,'icon',res); }}},[(item.icon)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":item.icon}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_c('el-form-item',{attrs:{\"label\":\"技能描述\",\"size\":\"normal\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.description),callback:function ($$v) {_vm.$set(item, \"description\", $$v)},expression:\"item.description\"}})],1),_c('el-form-item',{attrs:{\"label\":\"小贴士\",\"size\":\"normal\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(item.tips),callback:function ($$v) {_vm.$set(item, \"tips\", $$v)},expression:\"item.tips\"}})],1),_c('el-form-item',{attrs:{\"size\":\"normal\"}},[_c('el-button',{attrs:{\"type\":\"danger\"},on:{\"click\":function($event){return _vm.isdelete(index)}}},[_vm._v(\"删除技能\")])],1)],1)],1)}),1)],1)],1),_c('el-row',{staticStyle:{\"margin-top\":\"10px\"}},[_c('el-col',{attrs:{\"span\":8}},[_c('el-button',{attrs:{\"type\":\"primary\",\"size\":\"default\",\"native-type\":\"submit\"},on:{\"click\":_vm.edit}},[_vm._v(\"确认修改\")]),_c('el-button',{attrs:{\"type\":\"info\",\"size\":\"default\"},on:{\"click\":_vm.cancel}},[_vm._v(\"取消\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-form @submit.native.prevent label-width=\"auto\" >\r\n    <el-tabs type=\"border-card\" >\r\n      <el-tab-pane label=\"基础信息\">\r\n         <el-row>\r\n        <el-col :span=\"6\">\r\n      <el-form-item label=\"英雄名称\" >\r\n          <el-input v-model=\"heros.name\"></el-input>\r\n      </el-form-item>\r\n      </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"6\">\r\n       <el-form-item label=\"英雄称号\">\r\n      <el-input v-model=\"heros.title\"></el-input>\r\n  </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n\r\n       <el-row>\r\n        <el-col :span=\"6\">\r\n       <el-form-item label=\"英雄类型\">\r\n      <el-select v-model=\"heros.categories\" multiple>\r\n        <el-option v-for=\"item in categories\" :key=\"item._id\" :label=\"item.name\" :value=\"item._id\">\r\n        </el-option>\r\n      </el-select>\r\n  </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n\r\n        <el-row>\r\n        <el-col :span=\"6\">\r\n       <el-form-item label=\"顺风出装\">\r\n      <el-select v-model=\"heros.items1\" multiple >\r\n        <el-option v-for=\"item in items\" :key=\"item._id\" :label=\"item.name\" :value=\"item._id\">\r\n        </el-option>\r\n      </el-select>\r\n  </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n\r\n       <el-row>\r\n        <el-col :span=\"6\">\r\n       <el-form-item label=\"逆风出装\">\r\n      <el-select v-model=\"heros.items2\" multiple >\r\n        <el-option v-for=\"item in items\" :key=\"item._id\" :label=\"item.name\" :value=\"item._id\">\r\n        </el-option>\r\n      </el-select>\r\n  </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n      \r\n      <el-row>\r\n        <el-col :span=\"10\">\r\n       <el-form-item label=\"使用技巧\">\r\n      <el-input type=\"textarea\" v-model=\"heros.usagetips\"></el-input>\r\n  </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n\r\n<el-row>\r\n        <el-col :span=\"10\">\r\n       <el-form-item label=\"对抗技巧\">\r\n      <el-input type=\"textarea\" v-model=\"heros.battletips\"></el-input>\r\n  </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n\r\n      <el-row>\r\n        <el-col :span=\"10\">\r\n       <el-form-item label=\"团战思路\">\r\n      <el-input type=\"textarea\" v-model=\"heros.teamtips\"></el-input>\r\n  </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n      \r\n       <el-row>\r\n        <el-col :span=\"8\">\r\n       <el-form-item label=\"难度\" class=\"difficult\"> \r\n  <el-rate class=\"rate1\" v-model=\"heros.scores.difficult\" :colors=\"colors\" :max=\"10\" show-score >\r\n  </el-rate>\r\n   </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n   <el-row>\r\n        <el-col :span=\"8\">\r\n       <el-form-item label=\"技能\" class=\"difficult\"> \r\n  <el-rate class=\"rate1\" v-model=\"heros.scores.skills\" :colors=\"colors\" :max=\"10\" show-score >\r\n  </el-rate>\r\n   </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n   <el-row>\r\n        <el-col :span=\"8\">\r\n       <el-form-item label=\"攻击\" class=\"difficult\"> \r\n  <el-rate class=\"rate1\" v-model=\"heros.scores.attack\" :colors=\"colors\" :max=\"10\" show-score >\r\n  </el-rate>\r\n   </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n   <el-row>\r\n        <el-col :span=\"8\">\r\n       <el-form-item label=\"生存\" class=\"difficult\"> \r\n  <el-rate  class=\"rate1\" v-model=\"heros.scores.survive\" :colors=\"colors\" :max=\"10\" show-score >\r\n  </el-rate>\r\n  </el-form-item>\r\n  </el-col>\r\n      </el-row>\r\n\r\n       <el-form-item label=\"英雄头像\">\r\n      <el-upload\r\n  class=\"avatar-uploader\"\r\n  :action=\"$http.defaults.baseURL + '/upload'\"\r\n  :show-file-list=\"false\"\r\n  :on-success=\"afterupload\"\r\n  >\r\n  <!--↑action默认post方式  -->\r\n  <img v-if=\"heros.avatar\" :src=\"heros.avatar\" class=\"avatar\">\r\n  <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n</el-upload>\r\n  </el-form-item>\r\n      </el-tab-pane>\r\n\r\n      <el-tab-pane label=\"技能\">\r\n        <el-row style=\"margin-bottom:10px\">\r\n          <el-col :offset=\"0\">\r\n      <el-button type=\"primary\" size=\"default\" @click=\"heros.skills.push({})\"><i class=\"el-icon-plus\"></i>添加技能</el-button>\r\n       </el-col>\r\n       </el-row>\r\n\r\n   <el-row type=\"flex\" justify=\"space-around\" class=\"rowtest\">\r\n      <el-col v-for=\"(item,index) in heros.skills\" :key=\"index\" :span=\"10\">\r\n        <el-col :offset=\"0\">\r\n\r\n          <el-form-item label=\"技能名称\" size=\"normal\">\r\n              <el-input v-model=\"item.name\"></el-input>\r\n          </el-form-item>\r\n\r\n          <el-form-item label=\"技能图标\">\r\n      <el-upload\r\n  class=\"avatar-uploader\"\r\n  :headers=\"uploadheader()\"\r\n  :action=\"$http.defaults.baseURL + '/upload'\"\r\n  :show-file-list=\"false\"\r\n  :on-success=\"res=>$set(item,'icon',res)\"\r\n  ><!-- ↑item传不进on-success后面的函数里，用这种方法，可以传item -->\r\n  <!--↑action默认post方式-->\r\n  <img v-if=\"item.icon\" :src=\"item.icon\" class=\"avatar\">\r\n  <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n</el-upload>\r\n  </el-form-item>\r\n\r\n <el-form-item label=\"技能描述\" size=\"normal\">\r\n              <el-input v-model=\"item.description\" type=\"textarea\"></el-input>\r\n          </el-form-item>\r\n\r\n <el-form-item label=\"小贴士\" size=\"normal\">\r\n              <el-input v-model=\"item.tips\" type=\"textarea\"></el-input>\r\n          </el-form-item>\r\n <el-form-item size=\"normal\">\r\n   <el-button type=\"danger\" @click=\"isdelete(index)\">删除技能</el-button>\r\n   </el-form-item>\r\n        </el-col>\r\n      </el-col>\r\n</el-row>\r\n\r\n      </el-tab-pane>\r\n    </el-tabs>\r\n\r\n     <el-row style=\"margin-top:10px\">\r\n       <el-col :span=\"8\">\r\n        <el-button type=\"primary\" size=\"default\"  native-type=\"submit\" @click=\"edit\">确认修改</el-button>\r\n        <el-button type=\"info\" size=\"default\"  @click=\"cancel\">取消</el-button>\r\n         </el-col>\r\n      </el-row>\r\n  </el-form>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\ndata() {\r\n  return {\r\n        value2: null,\r\n        colors: { 2: ' #99A9BF', 4:' #75C319',6:'#ECB10C',8:'#FF5C7C',10:'#992532'},\r\n    heros:{\r\n      scores:{\r\n        difficult:0,\r\n        skills:0,\r\n        attack:0,\r\n        survive:0\r\n      },//不给scores属性，this.heros.scores.difficult会获取不到，因为scores为undefined,不给difficult属性，el-rate会报错。\r\n      skills:[]\r\n    },\r\n    categories:[],//英雄所有类型\r\n    items:[],//英雄所有出装\r\n    index:0\r\n  }\r\n},\r\nmethods: {\r\n    async getheros(){//根据route中的id请求对应的数据\r\n        let id = this.$route.params.id\r\n        let res = await this.$http.get(`/rest/heros/edit/${id}`)\r\n       // console.log(res);\r\n        this.heros = Object.assign({},this.heros,res.data)//使用这种方式可以不让res.data覆盖this.heros，而是和其合并。\r\n        console.log(this.heros);\r\n    },\r\n    async getcategories(){//获取分类\r\n         let res1 = await this.$http.get('rest/categories/list')\r\n         this.categories = res1.data\r\n         console.log('categories:');\r\n         console.log(this.categories);\r\n    },\r\n    async edit(){//发送修改数据的put请求\r\n        await this.$http.put(`/rest/heros/edit/${this.heros._id}`,this.heros)\r\n        this.$router.push('/heros/list')\r\n        this.$message({\r\n      type:'success',\r\n      message:'修改成功~',\r\n      duration:600\r\n    })\r\n    },\r\n    async getitems(){//获取装备\r\n         let items = await this.$http.get('/rest/items/list')\r\n         this.items = items.data\r\n         //console.log(this.items);\r\n    },\r\n    afterupload(res){//英雄头像上传后的函数\r\n      this.$set(this.heros,'avatar',res)\r\n  },\r\n  afterskilliconupload(res){//技能图标上传后的函数\r\n     this.$set(item,'icon',res) \r\n  },     \r\n  cancel(){\r\n      this.$router.push('/heros/list')  \r\n    },\r\n    async isdelete(index){\r\n         try{\r\n           this.index = index\r\n           await  this.$confirm('此操作将永久删除该技能, 是否继续?', '提示', {\r\n          cancelButtonText: '取消',\r\n          confirmButtonText: '确定',\r\n          type: 'warning'\r\n        })\r\n        //1↓\r\n          this.heros.skills.splice(index,1)//确认删除就把skills数组的相应数据去除\r\n          this.$message({\r\n            type: 'success',\r\n            message: '删除成功!',\r\n            duration:600\r\n          });\r\n          //1↑\r\n        } catch (error) {\r\n            //2↓\r\n\r\n          //2↑\r\n        }          \r\n        },\r\n},\r\nasync created() {\r\n    await this.getheros()\r\n    await this.getcategories()\r\n    await this.getitems()\r\n},\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editheros.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./editheros.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./editheros.vue?vue&type=template&id=301f83b2&\"\nimport script from \"./editheros.vue?vue&type=script&lang=js&\"\nexport * from \"./editheros.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}